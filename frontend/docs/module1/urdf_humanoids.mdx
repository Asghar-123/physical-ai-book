---
sidebar_position: 2
title: URDF - Humanoid Modeling
---

# URDF: Modeling a Humanoid Robot

**Unified Robot Description Format (URDF)** is an XML format for describing all aspects of a robot. It is commonly used in ROS 2 to define the robot's kinematics (links and joints), visual properties (geometry, color), and collision properties. A well-defined URDF is crucial for accurate simulation in environments like Gazebo and for proper visualization in tools like RViz.

## Basic URDF Structure

A URDF file is composed of `<link>` and `<joint>` elements.

### Links

A **link** represents a rigid body segment of the robot. It has physical and visual properties:
- **Visual**: Describes the appearance of the link (e.g., mesh file, color, origin offset).
- **Collision**: Describes the collision geometry of the link. This is often a simplified version of the visual geometry to speed up physics calculations.
- **Inertial**: Defines the mass, center of mass, and inertia tensor of the link, essential for realistic physics simulation.

```xml
<link name="base_link">
  <visual>
    <geometry>
      <box size="0.6 0.4 0.2" />
    </geometry>
    <material name="white">
      <color rgba="1 1 1 1" />
    </material>
  </visual>
  <collision>
    <geometry>
      <box size="0.6 0.4 0.2" />
    </geometry>
  </collision>
  <inertial>
    <origin xyz="0 0 0" rpy="0 0 0"/>
    <mass value="10"/>
    <inertia ixx="1.0" ixy="0.0" ixz="0.0" iyy="1.0" iyz="0.0" izz="1.0"/>
  </inertial>
</link>
```

### Joints

A **joint** connects two links, defining their relative motion. Each joint has:
- **Parent Link**: The link that the joint is attached to and moves relative to.
- **Child Link**: The link that is moved by the joint.
- **Type**: Specifies the type of motion allowed (e.g., `revolute` for rotation around an axis, `continuous` for continuous rotation, `prismatic` for linear motion, `fixed` for no motion).
- **Axis**: Defines the axis of rotation or translation for the joint.
- **Origin**: Specifies the transformation from the parent link to the child link.

```xml
<joint name="base_to_torso" type="revolute">
  <parent link="base_link"/>
  <child link="torso_link"/>
  <origin xyz="0 0 0.1" rpy="0 0 0"/>
  <axis xyz="0 0 1"/>
  <limit lower="-1.57" upper="1.57" effort="100" velocity="10"/>
</joint>
```

## Modeling a Humanoid Robot

Modeling a humanoid robot with URDF involves defining a kinematic chain, starting from a base link and extending to the end-effectors (hands and feet). This typically includes:

- **Torso and Pelvis**: The central body links.
- **Legs**: Thigh, shank, and foot links, connected by revolute joints to simulate walking.
- **Arms**: Upper arm, forearm, and hand links, also connected by revolute joints.
- **Head**: Connected to the torso, often with pitch and yaw joints.

Each segment will have its own `<link>` definition, and the connections between them will be defined by `<joint>` elements. The hierarchy is important: a child link's position and orientation are relative to its parent.

## Example: Simple Humanoid Arm Segment

```xml
<?xml version="1.0"?>
<robot name="simple_humanoid">

  <link name="shoulder_link">
    <visual><geometry><cylinder radius="0.05" length="0.1"/></geometry></visual>
    <collision><geometry><cylinder radius="0.05" length="0.1"/></geometry></collision>
    <inertial>
      <mass value="0.5"/>
      <inertia ixx="0.001" ixy="0" ixz="0" iyy="0.001" iyz="0" izz="0.001"/>
    </inertial>
  </link>

  <link name="upper_arm_link">
    <visual><geometry><cylinder radius="0.04" length="0.2"/></geometry></visual>
    <collision><geometry><cylinder radius="0.04" length="0.2"/></geometry></collision>
    <inertial>
      <mass value="0.3"/>
      <inertia ixx="0.0005" ixy="0" ixz="0" iyy="0.0005" iyz="0" izz="0.0005"/>
    </inertial>
  </link>

  <joint name="shoulder_joint" type="revolute">
    <parent link="shoulder_link"/>
    <child link="upper_arm_link"/>
    <origin xyz="0 0 0.1" rpy="0 0 0"/>
    <axis xyz="0 1 0"/>
    <limit lower="-1.57" upper="1.57" effort="10" velocity="5"/>
  </joint>

</robot>
```

## Next Steps

Once a URDF model is created, it can be loaded into simulation environments like Gazebo or visualized in RViz to verify its kinematics and appearance. Subsequent chapters will delve into controlling these models using ROS 2, and simulating their interaction with the environment.
